[logic]
active = walker@day
on_death = death
on_hit = hit
combat_ignore = combat_ignore

[walker@day]
path_walk = esc_stas_walk_way
path_look = esc_stas_way_look
on_actor_dist_le_nvis = 5 | remark@stas_hello
meet = no_meet
danger = danger_condition
on_info = {!is_day} walker@night
on_info2 = {=is_holiday_sidor} %=sak.sidor_out()% walker@night
on_info3 = {=is_day =is_holiday_sidor} %=sak.sidor_out()% walker@day_no_sidor
on_info4 = {=is_day !is_holiday_sidor} %=sak.sidor_in()% walker@day_3
on_info5 = {+esc_open_door} walker@day_4
combat_ignore_cond = {!actor_enemy}

[walker@day_3]
path_walk = esc_stas_walk_way
path_look = esc_stas_way_look
on_actor_dist_le_nvis = 5 | remark@stas_hello
meet = no_meet
danger = danger_condition
on_info = {!is_day} walker@night
on_info2 = {=is_holiday_sidor} %=sak.sidor_out()% walker@night
on_info3 = {=is_day =is_holiday_sidor} %=sak.sidor_out()% walker@day_no_sidor
combat_ignore_cond = {!actor_enemy}

[meet@esc_guard]
meet_state = guard
meet_state_wpn = guard_na
victim = 5 | actor
victim_wpn = 5 | actor
use = true
use_wpn = false
abuse = true

[remark@stas_hello]
anim = guard
target = actor
snd = stas_hello
meet = no_meet
danger = danger_condition
on_signal = sound_end| walker@day_2
on_timer = 15000| walker@day_2

[walker@day_2]
path_walk = esc_stas_walk_way
path_look = esc_stas_way_look
meet = meet@esc_guard
danger = danger_condition
combat_ignore_cond = {!actor_enemy}
on_info = {!is_day} walker@night
on_info2 = {=is_holiday_sidor} %=sak.sidor_out()% walker@night
on_info3 = {=is_day =is_holiday_sidor} %=sak.sidor_out()% walker@day_no_sidor
on_info4 = {+esc_open_door} remark@wait

[remark@wait]
anim = guard
target = actor
on_timer = 1500| walker@day_4

[walker@day_4]
path_walk = esc_kastet_walk_way
path_look = esc_kastet_way_look
meet = no_meet
danger = danger_condition
combat_ignore_cond = {!actor_enemy}
on_info = {!is_day} walker@night
on_info2 = {=is_holiday_sidor} %=sak.sidor_out()% walker@night
on_info3 = {=is_day =is_holiday_sidor} %=sak.sidor_out()% walker@day_no_sidor
on_info4 = {-esc_open_door} walker@day_2
on_signal = kastet_arrived| walker@day_5

[walker@day_5]
path_walk = esc_kastet_walk_way
path_look = esc_kastet_way2_look
meet = meet@kastet
danger = danger_condition
combat_ignore_cond = {!actor_enemy}
on_info = {!is_day} walker@night
on_info2 = {=is_holiday_sidor} %=sak.sidor_out()% walker@night
on_info3 = {=is_day =is_holiday_sidor} %=sak.sidor_out()% walker@day_no_sidor
on_info4 = {-esc_open_door} walker@day_6

[walker@day_6]
path_walk = esc_kastet_walk_way
path_look = esc_kastet_way2_look
meet = meet@kastet
danger = danger_condition
combat_ignore_cond = {!actor_enemy}
on_info = {!is_day} walker@night
on_info2 = {=is_holiday_sidor} %=sak.sidor_out()% walker@night
on_info3 = {=is_day =is_holiday_sidor} %=sak.sidor_out()% walker@day_no_sidor
on_timer = 2000|remark@stas_bye

[remark@stas_bye]
anim = guard
target = actor
snd = stas_bye
meet = no_meet
on_timer = 2000| walker@day

[walker@night]
path_walk = esc_stas_walk_night_way
path_look = esc_stas_way_night_look
danger = danger_condition
meet = meet@esc_guard2
combat_ignore_cond = {!actor_enemy}
on_info = {=is_day !is_holiday_sidor} %=sak.sidor_in()% walker@day
on_info2 = {=is_day =is_holiday_sidor} %=sak.sidor_out()% walker@day_no_sidor

[walker@day_no_sidor]
path_walk = esc_stas_way_day_way
path_look = esc_stas_way_day_look
meet = meet@esc_guard2
danger = danger_condition
combat_ignore_cond = {!actor_enemy}
on_info = {!is_day} walker@night
on_info2 = {=is_day !is_holiday_sidor} %=sak.sidor_in()% walker@day

[meet@esc_guard2]
meet_state = 2|sit_ass
meet_state_wpn = 5|claim
victim = 5 | actor
victim_wpn = 5 | actor
use = true
use_wpn = false
abuse = false

[meet@kastet]
use = true
use_wpn = true
abuse = false
meet_dialog = kastet_go_out_dialog

[danger_condition]
ignore_distance = 3
ignore_types = corpse
ignore_distance_sound = 3
danger_inertion_time_sound = 1000
danger_inertion_time_ricochet = 1000
ignore_distance_corpse = 3

[combat_ignore]
combat_ignore_cond = {!actor_enemy}

[death]
on_info = {=killed_by_actor} %+esc_sid_guard_fire +esc_sid_guard_sub_umer =sak.gg_bandit()%, %+esc_sid_guard_sub_umer%

[hit]
on_info = {=hit_by_actor} %+esc_sid_guard_fire =sak.gg_bandit()%